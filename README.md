# SAP
sap


# 1. 개요
사원 정보를 관리하는 테이블을 생성하고, 테이블들의 관계를 설정한다. 사원 정보를 조회, 생성, 수정하는 프로그램을 작성한다. 정의한 테이블은 3개로 사원마스터 테이블 ZTEMPLOYEE_SU15와 부서마스터 ZTORGEH_SU15 와 부서마스터 TEXT ZTORGEHT_SU15테이블을 정의한다. 또한 변경이력 구조체인 ZSHISTORY_SU15를 각 테이블에 삽입하여 테이블의 변경이력을 저장하여 누가 언제 몇시에 해당 데이터를 생성, 수정하였는지 관리하도록 한다. 본 프로젝트는 물리적인 테이블 구조를 확인하면서, 각 테이블의 레코드 건 수 및 테이블의 종속적인 정보를 고려하여, 테이블을 생성하는 것을 목표로 한다. 테이블에 필요한 CHECK TABLE, 통화/단위, FIXED VALUE, TEXT TABLE을 고려하여, 필요한 경우 설정할 수 있으며 사용되는 스크린은 총 3가지로 사원리스트 화면, 사원등록화면, 사원수정화면이 존재한다. 사원리스트화면은 사번/ 부서/ 성별/ 매니저여부/사원명으로 사원을 검색 가능하다. 검색조건에 맞는 데이터가 없을 경우 ‘검색 조건 값이 없습니다.’ 가 출력되며 조건에 맞는 데이터가 있을 경우 사원테이블로부터 취득하여 화면에 출력한다. 사원.부서 필드는 INPUT HELP 가 지원된다. 본 화면에서 신규사원생성을 클릭하면 사원 생성화면으로 이동하며 새로운 사원을 등록할 수 있는 화면으로 이동한다. 부서와 사원명은 필수로 입력이 되며 하나라도 입력이 되지 않은 경우 ‘부서 혹은 사원명을 입력하시오’라는 오류메세지가 출력이 된다. ZNPER_SU15를 통해 사원번호가 순차적으로 취득되며 성공하면 ‘새로운 사원번호갸ㅏ 저장되었습니다.’를 출력한후 이전 화면으로 돌아간다. 실패할 경우 저장중 오류가 발생한 것을 알리고 사원등록화면을 보여준다. 사원리스트 화면에서 사원리스트가 ALV TABLE에서 출력이 되는데 SINGLE 선택이 가능하고 클릭했을 경우 사원정보수정버튼이 들어오면 사원정보수정화면으로 이동한다. 선택한 사원이 없을 경우는 레코드를 선택하라는 명령어를 보여준다. 사원 번호는 LOCK처리를 하여 대상 사번을 이용해서 LOCK을 설정한다. 사원 테이블에 수정된 데이터를 UPDATE한다. 성공하면 ‘사원 정보가 변경됐습니다.’메세지 출력후 사원리스트로 이동한다. 실패하면, ‘사원 정보 변경중 오류가 발생했습니다.’ 메시지 풀력 후 사원 정보 수정화면을 보여준다.


# 2. 상세 설계
![1](https://user-images.githubusercontent.com/54221681/138832432-ad56c18c-b03e-437a-9974-1ba45d74d6c1.PNG)

# 3. 결과
![image](https://user-images.githubusercontent.com/54221681/138832713-2cbd55a4-fd1c-4c77-ae27-530f1dd082ba.png)
 초기화면
사원 부서 입력필드의 기본 값은 ‘100000000’ ~ ‘9999999’로 설정한다.
성별과 매니저 여부는 드롭다운 리스트로 표현하다.
사번/부서 필드에 INPUT HELP가 지원된다.

![2](https://user-images.githubusercontent.com/54221681/138832801-11773b53-5e6e-423c-81ce-7e6c4e1ee82e.PNG)
검색버튼 눌렀을 시
 ALV에 조건에 맞는 데이터가 출력된다.
 
 ![2](https://user-images.githubusercontent.com/54221681/138832900-0fb21bee-fc2e-4775-aeb6-4cf4ebeb7f65.PNG)
 신규사원생성 클릭시
사원등록 화면으로 넘어간다. 
신규사원정보에는 부서 사원명 성별 매니저여부를 설정할 수 있다.


![2](https://user-images.githubusercontent.com/54221681/138832998-95acb63c-be3e-471a-9992-230ac8fca233.PNG)
![3](https://user-images.githubusercontent.com/54221681/138833176-9f02eac0-5626-4038-98b4-4106d7132e39.PNG)
부서 900013
사원명 MIN JI HYE
성별 F
매니저 여부 N
로 새로운 사원 저장


SAVE버튼 눌렀을 시

![2](https://user-images.githubusercontent.com/54221681/138833143-932b20d8-d702-453c-b389-0ebeb31024b1.PNG)

생성조건으로 검색 시 새로운 사원이 등록된 것을 확인할 수 있다.
![4](https://user-images.githubusercontent.com/54221681/138833407-d4eb512a-087b-4274-940c-20480842e7dc.PNG)


사원 선택
![5](https://user-images.githubusercontent.com/54221681/138833441-9b3c4b0a-de1c-4dc9-9130-d97ddd689463.PNG)

사원정보수정 클릭시
기존 정보가 출력된다.
![6](https://user-images.githubusercontent.com/54221681/138833449-5e5bbaed-71d4-4757-8d18-75a27be0876b.PNG)
성별을 남성으로 변경 후 SAVE
![7](https://user-images.githubusercontent.com/54221681/138833461-7cf58d3a-a7b9-4a15-95fc-66de99624717.PNG)


조건으로 검색시 성별이 변경된 값으로 저장된 것을 확인할 수 있다.



